<%= tr8n_with_options_tag(:default_locale => Tr8n::Config.default_admin_locale, :admin => true) do %>

  <%= render :partial => "/tr8n/translator/common/header" %>

  <div class="tr8n tr8n_container" <%=tr8n_dir_attribute_tag%> >
  
    <div class="section_title">
      <%=tra("Your Notifications") %>
    </div>

    <div class="section grey" style="margin-top:10px; margin-bottom:10px; padding:10px;">
      <%= tr8n_paginator_tag(@stories, :subject => 'notification') if @stories.any? %>

      <% @stories.each do |n| %>
        <%
           unless n.valid_notification?
             n.mark_as_viewed!
             next
           end
        %>
        <%= render :partial => "notification", :locals => {:notification => n} %>
      <% end %>

      <% if @stories.empty? %>
        <%=tra("You don't have any notifications yet.") %>
      <% end %>
    </div>

  </div>

  <%= render :partial => "/tr8n/translator/common/footer" %>

<% end %>  